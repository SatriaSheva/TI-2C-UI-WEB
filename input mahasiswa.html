<!DOCTYPE html>
<html>
<head>
    
    <title>Input Data Mahasiswa</title>
    <style>
        table {
            width: 400px;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        body {
    font-family: Arial, sans-serif;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

h1 {
    font-size: 2rem;
    margin-top: 0;
}

form {
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 5px;
}

input[type="number"], input[type="text"] {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
}

button[type="button"] {
    background-color: #2600ff;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: background-color 0.3s;
}

button[type="button"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000000;
    transform: translateX(-100%);
    transition: transform 0.3s;
}

button[type="button"]:active::before {
    transform: translateX(0);
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    border: 1px solid black;
    padding: 8px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

    </style>
</head>
<body>
    <form id="studentForm">
        <label for="nim">NIM:</label><br>
        <input type="number" id="nim" name="nim" required><br>
        <label for="name">Nama:</label><br>
        <input type="text" id="name" name="name" required><br><br>
        <button type="button" onclick="saveStudent()">Save</button>
    </form>
    
    <table id="studentTable">
        <thead>
          <tr>
            <th style="width:30%">NIM</th>
            <th style="width:70%">Nama</th>
          </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        // Define array untuk list mahasiswa
var arrStudent = [];

// Fungsi simpan data mahasiswa
function saveStudent() {
    // Deklarasi variable dr id element input
    var studentForm = document.getElementById("studentForm");
    var nim = document.getElementById("nim").value;
    var name = document.getElementById("name").value;

    // Buat student object baru
    var student = { nim, name };
    arrStudent.push(student);

    // Reset Form
    studentForm.reset();

    // Tampilkan data yang ditambahkan >> fungsi show
    showStudent(student);

    // Tampilkan log dan Simpan data ke array
    console.log(student);
    console.log(arrStudent);
    showStudentList(student);
}

// Menampilkan data mahasiswa ke HTML
function showStudent(student) {    
    var tbody = document.querySelector("#studentTable tbody");
    var tr = document.createElement("tr");
    // buat kolom value nim
    var tdNim = document.createElement("td");
    tdNim.textContent = student.nim;
    tr.appendChild(tdNim);

    // buat kolom value nama
    var tdNama = document.createElement("td");
    tdNama.textContent = student.name;
    tr.appendChild(tdNama);

    // buat tombol edit
    var tdEdit = document.createElement("td");
    var editButton = document.createElement("button");
    editButton.textContent = "Edit";
    editButton.setAttribute("data-nim", student.nim);
    editButton.addEventListener("click", editStudent);
    tdEdit.appendChild(editButton);
    tr.appendChild(tdEdit);

    // buat tombol delete
    var tdDelete = document.createElement("td");
    var deleteButton = document.createElement("button");
    deleteButton.textContent = "Delete";
    deleteButton.setAttribute("data-nim", student.nim);
    deleteButton.addEventListener("click", deleteStudent);
    tdDelete.appendChild(deleteButton);
    tr.appendChild(tdDelete);

    tbody.appendChild(tr);
}

// Menampilkan list mahasiswa ke HTML
function showStudentList(student) {
    var tbody = document.querySelector("#studentTable tbody");
    tbody.innerHTML = '';
    arrStudent.forEach(showStudent);
}

// Fungsi edit data mahasiswa
function editStudent(event) {
    var nim = event.target.getAttribute("data-nim");
    var student = arrStudent.find(s => s.nim === Number(nim));

    if (student) {
        document.getElementById("nim").value = student.nim;
        document.getElementById("name").value = student.name;
    }
}

// Fungsi hapus data mahasiswa
function deleteStudent(event) {
    var nim = event.target.getAttribute("data-nim");
    arrStudent = arrStudent.filter(s => s.nim !== Number(nim));
    showStudentList();
}
    
        
    </script>
</body>
</html>